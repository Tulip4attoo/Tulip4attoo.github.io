<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Truncation Error trong Finite Difference (Hay là lỗi sai số trong tính toán xấp xỉ đạo hàm)</title>

    <meta name="viewport" content="width=device-width">
    <meta name="description" content="">

    
    

    <link rel="canonical" href="http://localhost:4000/truncation-error-trong-finite-difference/">
    <link rel="icon" type="image/png" href="/images/logo.png">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/monster.css">

    

</head>


    <body>
    
    <div class="wrapper">

      <header class="header">

  <div class="site-title">
    
    <h4 class="entry-title"><a href="/truncation-error-trong-finite-difference/">Truncation Error trong Finite Difference (Hay là lỗi sai số trong tính toán xấp xỉ đạo hàm)</a></h4>
    
  </div>

<div class="links">
    
    <a href="/" class="page-link">Blog</a>
    
    
    
    
      <a class="page-link"
        href="/about/">About</a>
    
    
    
      <a class="page-link"
        href="/categories/">Categories</a>
    
    
    
    
    
    
    
      <a class="page-link"
        href="/links/">Links</a>
    
    
    
    
    
      <a class="page-link"
        href="/tags/">Tags</a>
    
    
    <a href="/feed.xml" target="_blank" class="page-link">RSS</a>
</div>
</header>

      
      <div class="navi">
    
    <a href="/" class="page-link">Blog</a>
    
    
    
    
      <a class="page-link"
        href="/about/">About</a>
    
    
    
      <a class="page-link"
        href="/categories/">Categories</a>
    
    
    
    
    
    
    
      <a class="page-link"
        href="/links/">Links</a>
    
    
    
    
    
      <a class="page-link"
        href="/tags/">Tags</a>
    
    
    <a href="/feed.xml" target="_blank" class="page-link">RSS</a>
</div>


      <div class="content">
        <div class="articles">
            <div class="entry post">

	<div class="entry-content">
	  <article class="entry-body">
	  	
	  		<h1 id="truncation-error-là-gì">Truncation Error là gì</h1>

<p>Truncation Error (có thể gọi là lỗi sai số, lỗi làm tròn, tuy nhiên có vẻ không có từ tương đương trong tiếng Việt) là 1 lỗi thường gặp trong quá trình tính toán. Đây là tên chung cho các lỗi liên quan tới việc làm tròn số (đặc biệt là việc lưu trữ số thập phân trong máy tính), việc thay thế 1 chuỗi vô hạn bằng chuỗi hữu hạn, nhìn chung, đây là điều không tránh khỏi trong quá trình thực hành. Chú ý theo dõi và giảm thiểu Truncation Error luôn là 1 điều quan trọng trong tính toán và làm việc.</p>

<h1 id="đạo-hàm-của-hàm-số">Đạo hàm của hàm số</h1>

<p>Đạo hàm của 1 hàm số là sự biến thiên giá trị của hàm số tại 1 điểm. Về biểu diễn hình học, đạo hàm của 1 hàm số tại 1 điểm là tiếp tuyến của hàm số tại điểm đó.</p>

<p align="center">
  <img src="../assets/img/truncation-error/different-figure.png" /><br />
  <i>Đường màu đỏ chính là đạo hàm của hàm số (nguồn: wikipedia)</i>
</p>

<p>Trong trường hợp chúng ta có hàm số: $y = f(x)$, khi đó đạo hàm của hàm số, ký hiệu là $f’(x)$ được tính bằng:</p>

\[f'(x_{0}) = \lim_{\Delta x\to0} \frac{f(x_{0} + \Delta x) - f(x_{0})}{\Delta x}\]

<p>Tuy nhiên, trong thực tế, chúng ta không thể lấy được giá trị $\Delta x$ nào để có thể thoả mãn được biểu thức bên trên cả. Chúng ta chỉ có thể sử dụng các hằng số nhỏ khác để thay thế. Tuy nhiên, khi tính toán trên các đơn vị quá bé, máy tính sẽ không đưa ra được kết quả thật sự chính xác, vì vậy đây cũng là 1 vấn đề đáng cân nhắc. Chúng ta sẽ chọn $\Delta x$ đủ bé để giá trị xấp xỉ gần với giá trị đạo hàm thực tế, đồng thời phải chọn $\Delta x$ không quá bé để tránh lỗi tính toán nói trên. Một giải pháp cho vấn đề này là lựa chọn hàm xấp xỉ có Truncation Error thấp hơn, khi đó chúng ta không cần $\Delta x$ phải quá bé nữa.</p>

<p>Ở trên chúng ta vừa đề cập tới công thức của đạo hàm hàm số tại 1 điểm. Tuy nhiên, đó chỉ là 1 trong nhiều cách biểu diễn đạo hàm mà thôi. Cụ thể sẽ có 3 cách thường dùng như sau:</p>

<ul>
  <li>Forward:</li>
</ul>

\[f'(x_{0}) = \lim_{\Delta x\to0} \frac{f(x_{0} + \Delta x) - f(x_{0})}{\Delta x}\]

<ul>
  <li>Backward:</li>
</ul>

\[f'(x_{0}) = \lim_{\Delta x\to0} \frac{f(x_{0}) - f(x_{0} - \Delta x)}{\Delta x}\]

<ul>
  <li>Central:</li>
</ul>

\[f'(x_{0}) = \lim_{\Delta x\to0} \frac{f(x_{0} + \frac{1}{2}\Delta x) - f(x_{0} - \frac{1}{2}\Delta x)}{\Delta x}\]

<p>Trong phần tiếp theo, chúng ta sẽ tính lần lượt Truncation error của 3 công thức, từ đó chọn ra công thức có Truncation error nhỏ nhất.</p>

<h2 id="khai-triển-taylor">Khai triển Taylor</h2>

<p>Chúng ta sẽ tính Truncation Error của 3 công thức này dựa vào <a href="https://en.wikipedia.org/wiki/Taylor_series">khai triển Taylor</a>. Nhắc lại công thức của khai triển Taylor:</p>

<p>Khai triển Taylor của 1 hàm số $f(x)$ thoả mãn điều kiện có thể đạo hàm vô hạn lần tại điểm a là:</p>

\[f(x) = f(a) + \frac{f'(a)}{1!}(x-a) + \frac{f''(a)}{2!}(x-a)^2 + \frac{f^{(3)}(a)}{3!}(x-a)^3 + ...\]

<p>Chúng ta có thể rút gọn vế phải thành:</p>

\[f(x) = \sum\limits_{n=0}^{\infty} \frac{f^{(n)}(a)}{n!}(x-a)^n\]

<h2 id="truncation-error-của-forward-difference">Truncation error của Forward difference</h2>

<p>Áp dụng khai triển Taylor cho $f(x + h)$, ta được:</p>

\[f(x + h) = f(x) + \frac{hf'(x)}{1!} + \frac{h^2f''(x)}{2!} + \frac{h^3f^{(3)}(x)}{3!} + ...\]

<p>Chuyển vế $f(x)$ và chia 2 vế cho $h$, ta được:</p>

\[\frac{f(x+h) - f(x)}{h} = f'(x) + \frac{hf''(x)}{2!} + \frac{h^2f^{(3)}(x)}{3!} + ...\]

\[\Rightarrow \frac{f(x+h) - f(x)}{h} - f'(x) = O(h) \rightarrow 0 \quad (khi \ \,	h\rightarrow 0)\]

<p>Như vậy, Truncation error của Forward difference có độ lớn $O(h)$. Dễ thấy với Backward difference, Truncation error cũng có độ lớn $O(h)$</p>

<h2 id="truncation-error-của-central-difference">Truncation error của Central difference</h2>

<p>Áp dụng khai triển Taylor cho $f(x + \frac{h}{2})$ và $f(x - \frac{h}{2})$, ta được:</p>

\[f(x + \frac{h}{2}) = f(x) + \frac{hf'(x)}{2 *1!} + \frac{h^2f''(x)}{2^2 * 2!} + \frac{h^3f^{(3)}(x)}{2 ^3 *3!} + ...\]

\[f(x - \frac{h}{2}) = f(x) - \frac{hf'(x)}{2 *1!} + \frac{h^2f''(x)}{2^2 * 2!} - \frac{h^3f^{(3)}(x)}{2 ^3 *3!} + ...\]

<p>Trừ vế 2 biểu thức trên, ta được:</p>

\[f(x + \frac{h}{2}) - f(x - \frac{h}{2}) = hf'(x) + \frac{h^3f^{(3)}(x)}{2 ^2 *3!} + ...\]

<p>Chia 2 vế cho $h$, khi đó:</p>

\[\frac{f(x + \frac{h}{2}) - f(x - \frac{h}{2})}{h} = f'(x) + \frac{h^2f^{(3)}(x)}{2 ^2 *3!} + ...\]

\[\Rightarrow \frac{f(x + \frac{h}{2}) - f(x - \frac{h}{2})}{h} - f'(x) = O(h^2) \rightarrow 0 \quad (khi \ \,	h\rightarrow 0)\]

<p>Như vậy, Truncation error của Central difference có độ lớn $O(h^2)$. Điều này cho thấy chúng ta nên sử dụng Central difference thay cho Forward difference trong tính toán xấp xỉ đạo hàm.</p>

<h1 id="tổng-kết">Tổng kết</h1>

<p>Như vậy, chúng ta đã điểm qua được khái niệm Truncation error, cũng như tính toán được Truncation error cho Forward, Backward, Central difference, từ đó đi tới kết luận sử dụng Central difference sẽ tốt hơn Forward difference trong tính toán xấp xỉ đạo hàm. Tuy nhiên, đây chưa phải là công thức tối ưu. 3 công thức nêu trên chỉ là 1st order của finite diffrence, chúng ta có thể sử dụng 2nd order, 3rd order,… với Truncation error $O(h^4), O(h^6)$ và thấp hơn nữa. Ngoài ra, tôi cũng chưa tìm hiểu trong thực tế, liệu có còn thuật toán xấp xỉ đạo hàm nào khác nữa không. Tuy nhiên, với mức độ tính toán đơn giản (chỉ tính toán tới $0(h)$ nhưng lại chỉ có Truncation error $O(h^2)$), và gần gũi với công thức đạo hàm chúng ta quen thuộc, Central difference vẫn là 1 lựa chọn tốt cho công thức xấp xỉ đạo hàm.</p>

  		
	  </article>
    </div>

</div>

<div class="article-meta">
    2017-03-17
     • Category: 
        
    
     • Tag: 
        
    
</div>



	<div class="article-author">
    <div class="avatar">
    <img width="50" height="50" src="/images/header.jpg" alt=" Avatar"/>
    </div>
    <div class="name">
        <h4><b>MonsterSlayer</b> </h4>
        Just for fun!
    </div>
</div>


	
	    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'monsterslayer';
	(function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

	


<div class="cnzz"><script src="http://s4.cnzz.com/z_stat.php?id=1255123325&web_id=1255123325" language="JavaScript"></script> </div>


        </div>
      </div>
    </div>

    <div class="subscription-form" style="display: none;">
  <h3>Subscribe to my newsletter</h3>
  <form id="subscription-form" action="https://formspree.io/f/mgvalbyj" method="POST">
    <input type="email" name="email" placeholder="Enter your email" required>
    <button type="submit">Subscribe</button>
  </form>
  <div id="thank-you-message" style="display: none;">
    Thank you for subscribing!
  </div>
</div>

<style>
  .subscription-form {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 2rem;
    background: #f5f5f5;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    max-width: 400px;
    width: 90%;
  }
  .subscription-form h3 {
    margin-bottom: 1rem;
    text-align: center;
  }
  .subscription-form input[type="email"] {
    width: 100%;
    padding: 0.5rem;
    margin-bottom: 1rem;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
  .subscription-form button {
    width: 100%;
    padding: 0.5rem 1rem;
    background: #333;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }
  .subscription-form button:hover {
    background: #444;
  }
  #thank-you-message {
    text-align: center;
    margin-top: 1rem;
    color: #28a745;
    font-weight: bold;
  }
  .overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999;
  }
</style>

<div class="overlay" id="overlay"></div>

<script>
  function showSubscriptionForm() {
    document.getElementById('overlay').style.display = 'block';
    document.querySelector('.subscription-form').style.display = 'block';
  }

  function hideSubscriptionForm() {
    document.getElementById('overlay').style.display = 'none';
    document.querySelector('.subscription-form').style.display = 'none';
  }

  // Show form after 2 seconds
  setTimeout(showSubscriptionForm, 2000);

  // Close form when clicking overlay
  document.getElementById('overlay').addEventListener('click', hideSubscriptionForm);

  document.getElementById('subscription-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const form = this;
    const thankYouMessage = document.getElementById('thank-you-message');
    
    fetch(form.action, {
      method: 'POST',
      body: new FormData(form),
      headers: {
        'Accept': 'application/json'
      }
    })
    .then(response => {
      if (response.ok) {
        form.style.display = 'none';
        thankYouMessage.style.display = 'block';
        // Hide thank you message and form after 1 second
        setTimeout(() => {
          hideSubscriptionForm();
        }, 1000);
      }
    })
    .catch(error => {
      console.error('Error:', error);
    });
  });
</script> 
    </body>
</html>
