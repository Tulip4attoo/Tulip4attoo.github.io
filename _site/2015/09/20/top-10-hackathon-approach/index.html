<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Lọt vào top 10 cuộc thi hackathon 3.0 của Analytics Vidhya</title>

    <meta name="viewport" content="width=device-width">
    <meta name="description" content="">

    
    

    <link rel="canonical" href="http://localhost:4000/2015/09/20/top-10-hackathon-approach/">
    <link rel="icon" type="image/png" href="/images/logo.png">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/monster.css">

    

</head>


    <body>
    
    <div class="wrapper">

      <header class="header">

  <div class="site-title">
    
    <h4 class="entry-title"><a href="/2015/09/20/top-10-hackathon-approach/">Lọt vào top 10 cuộc thi hackathon 3.0 của Analytics Vidhya</a></h4>
    
  </div>

<div class="links">
    
    <a href="/" class="page-link">Blog</a>
    
    
    
    
      <a class="page-link"
        href="/about/">About</a>
    
    
    
      <a class="page-link"
        href="/categories/">Categories</a>
    
    
    
    
    
    
    
      <a class="page-link"
        href="/links/">Links</a>
    
    
    
    
    
      <a class="page-link"
        href="/tags/">Tags</a>
    
    
    <a href="/feed.xml" target="_blank" class="page-link">RSS</a>
</div>
</header>

      
      <div class="navi">
    
    <a href="/" class="page-link">Blog</a>
    
    
    
    
      <a class="page-link"
        href="/about/">About</a>
    
    
    
      <a class="page-link"
        href="/categories/">Categories</a>
    
    
    
    
    
    
    
      <a class="page-link"
        href="/links/">Links</a>
    
    
    
    
    
      <a class="page-link"
        href="/tags/">Tags</a>
    
    
    <a href="/feed.xml" target="_blank" class="page-link">RSS</a>
</div>


      <div class="content">
        <div class="articles">
            <div class="entry post">

	<div class="entry-content">
	  <article class="entry-body">
	  	
	  		<p>Analytics Vidhya là 1 trang chuyên về phân tích dữ liệu (data analytics) của Ấn Độ. Lĩnh vực phân tích dữ liệu là 1 lĩnh vực mới, tuy nhiên đang được đón nhận tích cực tại Mỹ, Ấn Độ và nhiều quốc gia khác trên thế giới. Từ tháng 6 trở lại đây, Analytics Vidhya đều đặn tổ chức các cuộc thi data hackathon hàng tháng, thu hút 1 số lượng không nhỏ các ứng viên. Tháng 8 - 2015, tôi có tham gia và đạt hạng 7 chung cuộc trên tổng số 273 thí sinh tham dự cuộc thi <a href="http://discuss.analyticsvidhya.com/t/online-hackathon-3-0-find-the-next-brain-wong/2838">Online Hackathon - Find the next Brain Wong!</a>. Bài viết này nói về cách tiếp cận và giải quyết vấn đề trong cuộc thi đấy của tôi.</p>

<p><img src="../assets/img/hackathon/result.jpg" alt="Result" /></p>

<h2 id="1-giới-thiệu-yêu-cầu">1, Giới thiệu yêu cầu</h2>

<p>Yêu cầu của cuộc thi lần này là tính toán ra giá trị đầu tư của các dự án trong các trường học ở Mỹ, khi biết các thông tin đầu vào của dự án. Chúng ta sẽ đưa ra dự đoán dự án nào sẽ được đầu tư, và đầu tư bao nhiêu?</p>

<p>Các biến được sử dụng ở training set và test set như sau:</p>

<p><img src="../assets/img/hackathon/variables.jpg" alt="variables-list" /></p>

<p>Cuộc thi có kiểm tra đáp án với 30% test set, và lần đánh giá cuối cùng là đáh giá 100% test set. Phương pháp đo lường sai số được sử dụng là <a href="https://en.wikipedia.org/wiki/Root-mean-square_deviation">RMSE</a>.</p>

<p>Bạn có thể download training set và test set ở <a href="">đây</a>.</p>

<h2 id="2-bắt-đầu">2, Bắt đầu</h2>

<p>Việc ngắm nghía qua dữ liệu, cũng như phát hiện các đặc điểm của dữ liệu rât quan trọng để đưa ra các phán đoán và hướng đi giải quyết vấn đề (bạn có thể tham khảo thêm cách tiếp cận của những người tham dự khác trong cuộc thi ở <a href="http://discuss.analyticsvidhya.com/t/hackathon-3-0-share-your-approach-learning/2901">đây</a>). Khi tìm hiểu qua các biến, có 1 số biến với các đặc điểm khác biệt như sau:</p>

<ul>
  <li>2 biến <em>institute_latitude</em> và <em>institute_longitude</em> lần lượt là vĩ độ và kinh độ của từng project. 2 biến này cần kết hợp với nhau thì mới đưa ra được thông tin chính xác về vị trí của dự án, chỉ 1 biến <em>latitude</em> hay <em>longitude</em> đều không mang ý nghĩa quá lớn về vị trí địa lý.</li>
  <li>biến <em>institute_country</em> không phải là quốc gia của các project mà là county (địa hạt) của project (ở đây dữ liệu bị sai chính tả, tuy nhiên điều này không quá quan trọng)</li>
  <li><em>var10, var11, var12, var13, var14</em> đều là các biến nhị phân nên sẽ không có thay đổi hay đánh giá được gì :))</li>
  <li>sau khi tìm hiểu, tôi nhận ra được <em>Var8</em> là về loại khu vực của các institudes, được chia ra làm 4 loại chính là: urban, suburban, rural, other.</li>
</ul>

<p>Từ 1 vài đặc điểm ban đầu này, ta có thể đưa ra các giả định, sau đó tiến hành kiểm tra và làm việc dưa vào các giả định ấy.</p>
<ul>
  <li><em>Var8</em> (loại khu vực): kết quả được lựa chọn đầu tư có thể được chia theo 4 loại khu vực</li>
</ul>

<p>Chúng ta có thể dựng mô hình mức độ đầu tư dựa vào các loại khu vực để kiểm tra giả định là đúng hay sai.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">boxplot</span><span class="p">(</span><span class="n">training_set</span><span class="o">$</span><span class="n">Project_Valuation</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">training_set</span><span class="o">$</span><span class="n">Var8</span><span class="p">,</span><span class="w"> </span><span class="n">outline</span><span class="o">=</span><span class="nb">F</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"sienna"</span><span class="p">,</span><span class="s2">"sienna"</span><span class="p">,</span><span class="s2">"sienna"</span><span class="p">,</span><span class="s2">"sienna"</span><span class="p">,</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"red"</span><span class="p">,</span><span class="w">
</span><span class="s2">"palevioletred1"</span><span class="p">,</span><span class="s2">"palevioletred1"</span><span class="p">,</span><span class="s2">"palevioletred1"</span><span class="p">,</span><span class="s2">"royalblue2"</span><span class="p">,</span><span class="s2">"royalblue2"</span><span class="p">,</span><span class="w">
</span><span class="s2">"royalblue2"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p><img src="../assets/img/hackathon/boxplot-no-outlier.jpg" alt="boxplot-no-outlier" /></p>

<p>Khi cho phép hiển thị các outliers, bạn có thể nhận thấy rõ ràng hơn:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">boxplot</span><span class="p">(</span><span class="n">training_set</span><span class="o">$</span><span class="n">Project_Valuation</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">training_set</span><span class="o">$</span><span class="n">Var8</span><span class="p">,</span><span class="w"> </span><span class="n">outline</span><span class="o">=</span><span class="nb">T</span><span class="p">,</span><span class="w"> </span><span class="n">col</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"sienna"</span><span class="p">,</span><span class="s2">"sienna"</span><span class="p">,</span><span class="s2">"sienna"</span><span class="p">,</span><span class="s2">"sienna"</span><span class="p">,</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"red"</span><span class="p">,</span><span class="s2">"red"</span><span class="p">,</span><span class="w">
</span><span class="s2">"palevioletred1"</span><span class="p">,</span><span class="s2">"palevioletred1"</span><span class="p">,</span><span class="s2">"palevioletred1"</span><span class="p">,</span><span class="s2">"royalblue2"</span><span class="p">,</span><span class="s2">"royalblue2"</span><span class="p">,</span><span class="w">
</span><span class="s2">"royalblue2"</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p><img src="../assets/img/hackathon/boxplot-outliers.jpg" alt="boxplot-outliers" /></p>

<p>Như vậy, bạn có thể tạo ra 1 biến mới chỉ bao gồm 4 loại khu vực sau khi đã phân loại.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">levels</span><span class="p">(</span><span class="n">training_convert_set</span><span class="o">$</span><span class="n">Var8</span><span class="p">)[</span><span class="n">levels</span><span class="p">(</span><span class="n">training_convert_set</span><span class="o">$</span><span class="n">Var8</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1</span><span class="o">||</span><span class="m">6</span><span class="o">||</span><span class="m">7</span><span class="o">||</span><span class="m">8</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w">
</span><span class="n">levels</span><span class="p">(</span><span class="n">training_convert_set</span><span class="o">$</span><span class="n">Var8</span><span class="p">)[</span><span class="n">levels</span><span class="p">(</span><span class="n">training_convert_set</span><span class="o">$</span><span class="n">Var8</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">2</span><span class="o">||</span><span class="m">3</span><span class="o">||</span><span class="m">4</span><span class="o">||</span><span class="m">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w">
</span><span class="n">levels</span><span class="p">(</span><span class="n">training_convert_set</span><span class="o">$</span><span class="n">Var8</span><span class="p">)[</span><span class="n">levels</span><span class="p">(</span><span class="n">training_convert_set</span><span class="o">$</span><span class="n">Var8</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">9</span><span class="o">||</span><span class="m">10</span><span class="o">||</span><span class="m">11</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="w">
</span><span class="n">levels</span><span class="p">(</span><span class="n">training_convert_set</span><span class="o">$</span><span class="n">Var8</span><span class="p">)[</span><span class="n">levels</span><span class="p">(</span><span class="n">training_convert_set</span><span class="o">$</span><span class="n">Var8</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">12</span><span class="o">||</span><span class="m">13</span><span class="o">||</span><span class="m">14</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>yếu tố vị trí địa lý có liên quan đáng kể tới lượng đầu tư của dự án.</li>
</ul>

<p>Từ giả định này, tôi quyết định kết hợp 2 biến <em>longitude</em> và <em>latitude</em> lại thành 1 biến mới biểu thị tọa độ địa lý của project. tôi quyết định lựa chọn biến mới theo công thức:
geo = (institute_latitude)^3 + (institute_longitude)^2. Tôi lựa chọn công thức này để đảm bảo tọa độ địa lý của project sẽ tỷ lệ thuận với giá trị biến geo.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">training_convert_set</span><span class="o">$</span><span class="n">geo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">training_set</span><span class="o">$</span><span class="n">institute_latitude</span><span class="p">)</span><span class="o">^</span><span class="m">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">training_set</span><span class="o">$</span><span class="n">institute_longitude</span><span class="p">)</span><span class="o">^</span><span class="m">2</span><span class="w">
</span></code></pre></div></div>

<p>Khi đã có 2 biến mới <em>geo</em> và <em>Var8</em> (được chỉnh sửa), tôi quyết định 2 biến này và biến <em>city</em> sẽ thay thế toàn bộ các biến mang thông tin về địa lý.</p>

<p>Ban đầu, tôi chạy thử với mô hình glm, kết quả đạt được đủ để tôi lọt vào top 20, nhưng vẫn chưa đủ tốt. Sau khi có 1 số điều chỉnh, tôi quyết định chuyển sang mô hình random forest. Khi chạy mô hình <strong>random forest</strong> với ntree = 300 và nodesize thay đổi từ 20 tới 100, tôi thấy mô hình hoạt động tốt khi nodesize dao động ở giá trị 70. Tôi cố gắng kết hợp 2 mô hình lại nwhng không thu được kết quả như ý, vì vậy kết quả cuối cùng chỉ bao gồm mô hình random forest.</p>

<p>2019 Update:Code này mình up lên github nhưng hồi đó ngu dại, up kiểu gì mà không có code =)) thôi coi nó đi vào dĩ vãng vậy. Bài này mình viết gần 4 năm rồi, hồi đó vừa học nên cũng chưa biết gì, giờ đọc lại cũng thấy hơi buồn cười nhưng cũng là tâm huyết 1 thời của mình, nên dẫu ngây ngô chút nhưng cũng rất đáng quý hehe.</p>

<h2 id="3-kết-luận">3, Kết luận</h2>

<p>Ở public leaderboard, tôi chỉ đạt được thứ hạng 12, và có 1 khoảng cách không nhỏ với top 10. Tuy nhiên, ở private leaderboard, tôi đã cải thiện thứ hạng và leo lên được hạng 7, với khoảng cách sít sao với hạng 6 và hạng 5 (nếu như tôi có thể cải thiện mtry, tôi nghĩ tôi có thể đạt được hạng 5). Tôi không cho rằng mô hình của tôi không ổn định, mà bởi vì 1 số người đã quá cố gắng điều chỉnh mô hình cho hợp với puclic leaderboard dẫn tới việc overfitting và kết quả chung cuộc suy giảm.</p>

<p>Tháng 9, Analytics Vidhya có tổ chức tiếp tục 1 cuộc thi hackathon với hơn 500 thí sinh tham dự (ngang với vài cuộc thi cỡ nhỏ của Kaggle, và vượt xa các trang khác). Rất tiếc, lần này tôi không sắp xếp được thời gian để tham gia. Có lẽ lần tới, tôi sẽ tham gia vào cuộc thi tháng 10 của Analytics Vidhya nếu nó vẫn được diễn ra như thường lệ.</p>

  		
	  </article>
    </div>

</div>

<div class="article-meta">
    2015-09-20
     • Category: 
        
    
     • Tag: 
        
    
</div>



	<div class="article-author">
    <div class="avatar">
    <img width="50" height="50" src="/images/header.jpg" alt=" Avatar"/>
    </div>
    <div class="name">
        <h4><b>MonsterSlayer</b> </h4>
        Just for fun!
    </div>
</div>


	
	    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'monsterslayer';
	(function() {
	    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
	    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

	


<div class="cnzz"><script src="http://s4.cnzz.com/z_stat.php?id=1255123325&web_id=1255123325" language="JavaScript"></script> </div>


        </div>
      </div>
    </div>

    </body>
</html>
